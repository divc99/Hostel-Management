<!DOCTYPE html>
<html>
	<head>
        <script src="https://code.jquery.com/jquery-1.9.1.min.js"></script>
        <script>
            $(function() {
                var x = document.getElementsByTagName('input');
                var i;
                for (i = 0; i < x.length-1; i++) {
                    x[i].checked = true;
                    x[i].addEventListener("click", calculateFine);
                }
            });

            function calculateFine(){
                var x = document.getElementsByTagName('input');
                var i;
                var fine=0;
                for (i = 0; i < x.length-1; i++) {
                    if(!x[i].checked){
                        fine += (x[i].classList.contains('chair')?2000:0)
                                +(x[i].classList.contains('bed')?20000:0)
                                +(x[i].classList.contains('table')?10000:0);
                    }
                }
                console.log(fine);
                document.getElementById('fine').value = fine;
            }
        
        </script>
		<title>Room's Furniture List</title>
	</head>
	<body>
		<div>
            <label>Students In this Room</label><br>
            {%for i in range(0,students | length)%}
                <label>Student ID - {{students[i][0]}} , </label>
                <label>First Name - {{students[i][1]}}</label>
                <br>
            {%endfor%}
            <br>
        </div>
        <form>
            <label>Furniture List (select all that exists)</label><br>
            {%for i in range(0,furniture | length)%}
                <input type="checkbox" name={{furniture[i][0]}} value={{furniture[i][0]}} class={{furniture[i][1]}}>
                <label>ID - {{furniture[i][0]}} ; </label>
                <label>Type - {{furniture[i][1]}}</label>
                <br>
            {%endfor%}

            <label>Fine Amount :</label>
            <input id="fine" type="number" value=0>
        </form>
	</body>
</html> 
